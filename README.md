FiltersForAirTravel

FiltersForAirTravel — это Java-приложение, созданное с использованием Spring Boot. Приложение выполняет фильтрацию авиаперелётов на основе различных правил. Оно поддерживает асинхронную обработку фильтрации, кэширование, управление через Spring Profiles и документацию API с помощью Swagger.

Основные функции:

1. Фильтрация авиаперелётов:

   - Исключение перелётов с вылетом до текущего времени.
   - Исключение сегментов, где время прибытия раньше времени вылета.
   - Исключение перелётов с суммарным временем на земле, превышающим два часа.
   - Ограничение максимального и минимального количества сегментов.
   - Фильтрация по длительности полёта и пересадкам.
   - Исключение ночных перелётов и перелётов в выходные дни.

2. Асинхронная обработка фильтрации: Используется аннотация @Async, чтобы обрабатывать запросы асинхронно, что улучшает производительность при работе с большими объёмами данных.

3. Кэширование результатов: Приложение кэширует результаты фильтрации с использованием Spring Cache для ускорения повторяющихся запросов.

4. Профили Spring: Приложение поддерживает различные конфигурации фильтров через Spring Profiles, что позволяет динамически менять настройки для среды разработки, тестирования и продакшена.

5. Документация API: Автоматически генерируемая документация через Swagger/OpenAPI доступна через веб-интерфейс.

6. Безопасность: Приложение защищено через Spring Security с базовой авторизацией.

7. Международная поддержка (i18n): Используется Spring MessageSource для поддержки вывода сообщений на нескольких языках.


Установка и запуск

Требования
- Java 17 или новее
- Maven 3.6+
- Spring Boot

Шаги установки
1. Клонируйте репозиторий:

git clone https://github.com/your-username/FiltersForAirTravel.git

2. Перейдите в директорию проекта:

cd FiltersForAirTravel

3. Соберите проект с помощью Maven:

mvn clean install

4. Запустите проект:

mvn spring-boot:run


Альтернативный запуск

Вы также можете запустить приложение через сгенерированный jar-файл:

java -jar target/FiltersForAirTravel-1.0.0.jar


API Документация

Swagger UI автоматически генерируется для удобства взаимодействия с API. Вы можете просмотреть доступные методы и отправить запросы через браузер.

Swagger доступен по следующему адресу:

http://localhost:8080/swagger-ui/index.html


Конфигурация

Порты

По умолчанию приложение запускается на порту 8080. Чтобы изменить порт, отредактируйте файл application.properties:

server.port=8080

Spring Profiles

Приложение поддерживает различные профили для работы в разных средах: dev, prod, и test. Вы можете активировать профиль, указав его в application.properties:

spring.profiles.active=dev

Кэширование

Кэширование включено с использованием Spring Cache. Вы можете контролировать кэширование через application.properties:

spring.cache.type=simple

Логирование

Логирование управляется через logback-spring.xml. По умолчанию включено логирование ошибок и информационных сообщений.


Безопасность

Приложение использует базовую авторизацию. Доступ к защищённым ресурсам возможен только после авторизации.

Пример запроса с базовой авторизацией:

GET /api/flights/filtered
Authorization: Basic base64encoded(username:password)

Настройка пользователей для авторизации

Вы можете добавить пользователей в файле application.properties:

spring.security.user.name=admin
spring.security.user.password=secret


Тестирование

Проект включает автоматические тесты, которые можно запустить с помощью Maven:

mvn test

Тесты покрывают фильтры, сервисы, контроллеры и конфигурационные классы.


Пример использования

Пример запроса на получение отфильтрованных перелётов:

GET http://localhost:8080/api/flights/filtered

Пример ответа:

[
    {
        "segments": [
            {
                "departureDate": "2024-10-12T14:00:00",
                "arrivalDate": "2024-10-12T16:00:00"
            }
        ]
    }
]


Авторы

Мостолыгин Алексей - https://github.com/dark-mais


Лицензия

Этот проект лицензируется в соответствии с лицензией MIT — подробности в файле LICENSE.


Этот файл README.md подробно объясняет структуру проекта, его функциональные возможности, конфигурацию и примеры использования. Вы можете адаптировать его под свои нужды, изменяя ссылки и описание в соответствии с вашими требованиями.